---
title: '#转载#  IEEE488总线详解'
tags:
  - GPIB
  - IEEE
  - IEEE488
  - 数据采集
id: 516
categories:
  - IEEE
  - LabVIEW
  - 他山之石
  - 数据采集
date: 2012-04-12 07:30:55
---

<div id="arcInfo-hd">

# IEEE488总线详解

<div>**
**</div>
</div>
<div>
<div id="jf-arcMain-1"></div>
<span style="font-family: Verdana;">IEEE488总线</span>

IEEE 488是一种并行的外总线，它是20世纪70年代由HP公司制定的。HP公司为了解决各种仪器仪表与各类计算机的接口时，由于互相不兼容而带来的连接麻 烦，而研制了通用接口总线HP—IB总线。1975年IEEE以IEEE 488标准总线予以推荐，1977年国际电工委员会 (IEC)也对该总线进行认可与推荐，定名为IEC—IB。所以这种总线同时使用了IEEE—488，IEC—IB (IEC接口总线)，HP—IB (HP接口总线)或GP—IB (通用接口总线)多种名称。由于IEEE 488总线的推出，当用IEEE 488标准建立一个由计算机控制的测试系统时，不要再加一大堆复杂的控制电路，IEEE 488系统以机架层叠式智能仪器为主要器件，构成开放式的积木测试系统。因此IEEE 488总线是当前工业上应用最广泛的通信总线之一。

一、 IEEE 488总线使用的约定

(1) 数据传输速率≤1 MB/s。

(2) 连接在总线上的设备 (包括作为主控器的微型机)≤15个。

(3) 设备间的最大距离≤20 m。

(4) 整个系统的电缆总长度≤220 m，若电缆长度超过220 m，则会因延时而改变定时关系，从而造成工作不可靠。这种情况应附加调制解调器

(5) 所有数据交换都必须是数字化的。

(6) 总线规定使用24线的组合插头座，并且采用负逻辑，即用小于+0.8V的电平表示逻辑“1”；用大于2V的电平表示逻辑“0”。

二、系统上设备的工作方式

IEEE 488总线接口结构如图8.22所示 .利用IEEE 488总线将微型计算机和其它若干设备连接在一起。可以采用串行连接，也可以采用星形连接。

　　　　![](http://www.elecfans.com/article/UploadPic/2008-1/200813113188567.gif)

　　　　　　　　　　　　图8.22 IEEE 488总线接口结构

在IEEE 488系统中的每一个设备可按如下3种方式工作。

(1) “听者”方式这是一种接收器，它从数据总线上接收数据，一个系统在同一时刻，可以有两个以上的“听者”在工作。可以充当“听者”功能的设备有： 微型计算机、打印机、绘图仪等。

(2) “讲者”方式这是一种发送器，它向数据总线发送数据，一个系统可以有两个以上的“讲者”，但任一时刻只能有一个讲者在工作。具有“讲者”功能的设备有： 微型计算机、磁带机、数字电压表、频谱分析仪等。

(3) “控制者”方式这是一种向其它设备发布命令的设备，例如对其它设备寻址，或允许“讲者”使用总线。控制者通常由微型机担任。一个系统可以有不止一个控制者，但每一时刻只能有一个控制者在工作。

在IEEE 488总线上的各种设备可以具备不同的功能。有的设备如微型计算机可以同时具有控制者、听者、讲者3种功能。有的设备只具有收、发功能，而有的设备只具有 接收功能，如打印机。在某一时刻系统只能有一个控制者，而当进行数据传送时，某一时刻只能有一个发送器发送数据，允许多个接收器接收数据。也就是可以进行 一对多的数据传送。

一般应用中，例如，微型机控制的数据测量系统，通过IEEE 488将微型机和各种测试仪器连接起来，这时，只有微型机具备控制、发、收3种功能，而总线上的其它设备都没有控制功能，但仍有收、发功能。当总线工作 时，由控制者发布命令，规定哪个设备为发送器、哪个为接收器，而后发送器可以利用总线发送数据，接收器从总线上接收数据。

三、 IEEE 488总线信号定义说明

IEEE 488总线使用24线组合插头座，其各引脚定义列于表8.7

&nbsp;
<table width="428" border="1" cellspacing="0"><caption>表8.7 IEEE 488信号定义</caption>
<tbody>
<tr>
<th scope="col" width="44">
<div>引脚</div></th>
<th scope="col" width="44">
<div>符号</div></th>
<th scope="col" width="120">
<div>说明</div></th>
<th scope="col" width="43">
<div>引脚</div></th>
<th scope="col" width="54">符号</th>
<th scope="col" width="97">
<div>说明</div></th>
</tr>
<tr>
<td>
<div>1</div></td>
<td>
<div>D0</div></td>
<td rowspan="4">
<div>低4位数据线</div></td>
<td>
<div>13</div></td>
<td>
<div>D4</div></td>
<td rowspan="4">
<div>高四位数据线</div></td>
</tr>
<tr>
<td>
<div>2</div></td>
<td>
<div>D1</div></td>
<td>
<div>14</div></td>
<td>
<div>D5</div></td>
</tr>
<tr>
<td>
<div>3</div></td>
<td>
<div>D2</div></td>
<td>
<div>15</div></td>
<td>
<div>D6</div></td>
</tr>
<tr>
<td>
<div>4</div></td>
<td>
<div>D3</div></td>
<td>
<div>16</div></td>
<td>
<div>D7</div></td>
</tr>
<tr>
<td>
<div>5</div></td>
<td>
<div>EOI</div></td>
<td>结束或识别线</td>
<td>
<div>17</div></td>
<td>
<div>REN</div></td>
<td>远程控制</td>
</tr>
<tr>
<td>
<div>6</div></td>
<td>
<div>DAV</div></td>
<td>数据有效线</td>
<td>
<div>18</div></td>
<td>
<div>GND</div></td>
<td rowspan="7">
<div>地</div></td>
</tr>
<tr>
<td>
<div>7</div></td>
<td>
<div>NRFD</div></td>
<td>未准备好接收数据线</td>
<td>
<div>19</div></td>
<td>
<div>NGD</div></td>
</tr>
<tr>
<td>
<div>8</div></td>
<td>
<div>NDAC</div></td>
<td>数据未接收完毕线</td>
<td>
<div>20</div></td>
<td>
<div>GND</div></td>
</tr>
<tr>
<td>
<div>9</div></td>
<td>
<div>IFC</div></td>
<td>接口清零线</td>
<td>
<div>21</div></td>
<td>
<div>GND</div></td>
</tr>
<tr>
<td>
<div>10</div></td>
<td>
<div>SRQ</div></td>
<td>服务请求线</td>
<td>
<div>22</div></td>
<td>
<div>GND</div></td>
</tr>
<tr>
<td>
<div>11</div></td>
<td>
<div>ATN</div></td>
<td>监视线</td>
<td>
<div>23</div></td>
<td>
<div>GND</div></td>
</tr>
<tr>
<td>
<div>12</div></td>
<td>
<div>GND</div></td>
<td>机壳线</td>
<td>
<div>24</div></td>
<td>
<div>GND</div></td>
</tr>
</tbody>
</table>
IEEE 488的信号线除8条地线外，有以下3类信号线。

(1) D7～D0数据总线，这是8条双向数据线，除了用于传送数据外，还用于“听”、“讲”方式的设置，以及设备地址和设备控制信息的传送。即在D7~D0上可以传送数据、设备地址和命令。这是因为该总线没有设置地址线和命令线，这些信息要通过数据线上的编码来产生。

(2) 字节传送控制线，在IEEE 488总线上数据传送采用异步握手 (挂钩)联络方式。即用DAV，NRFD和NDAC 3根线进行握手联络。

DAV (Data Avaible)——数据有效线。当由发送器控制的数据总线上的数据有效时，发送器置DAV为低电平 (逻辑1)，指示接收器可以从总线上接收数据。

NRFC (Not Ready for Data)——未准备好接收数据线，只要连接在总线上被指定为接收器中的设备，尚有一个未准备好接收数据，接收器就置NRFD线为有效低电平，示意发送器不要发出数据。当所有接收器都准备好时，NRFD变为高电平。

NDAC (Not Data Accepted)——未接收完数据，当总线上被指定为接收器的设备，有任何一个尚未接收完数据，它就置NDAC线为低电平，示意发送器不要撤销当前数据。只有当所有接收器都接收完数据后，此信号才变为高电平。

(3) **接口管理线**。

IFC (Interface Clear)——接口清零线。该线的状态由控制器建立，并作用于所有设备。当它为有效低电平时，整个IEEE 488总线停止工作，发送器停止发送，接收器停止接收。使系统处于已知的初始状态。它类似于复位信号RESET。可用计算机的复位键来产生IFC信号。

SRQ (Service Request)——服务请求线。它用来指出某个设备请求控制器的服务，所有设备的请求线是“线或”在一起的，因此任何一个设备都可以使这条线有效，来向 控制器请求服务。但请求能否得到控制器的响应，完全由程序安排，当系统中有计算机时，SRQ是发向计算机的中断请求线。

ATN (Attenntion Line)——监视线。它由控制器驱动，用它的不同状态对数据总线上的信息作出解释。
当ATN=“1”时，表示数据线上传送的是地址或命令，这时只有控制器能发送信息，其它设备都只能接收信息。
当ATN=“0”时，表示数据总线上传送的是数据。

EOI (End or Identify)——结束或识别线。该线与ATN线一起指示是数据传送结束，还是用来识别一个具体设备。当ATN=“0”时，这是进行数据传送，当传送 最后一个字节使EOI=“1”，表示数据传送结束，当ATN=“1”，若EOI=“1”时，则表示数据总线上是设备识别信息，即可得到请求服务的设备编 码。

REN (Remote Enable)——远程控制线。该信号为低电平时，系统处于远程控制状态，设备面板开关，按键均不起作用；若该信号为高电平，则远程控制不起作用，本地面板控制开关，按键起作用。

四、 IEEE 488总线传送数据时序

IEEE 488总线上数据传送采用异步方式，即每传送一个字节数据都要利用DAV，NRFD和NDAC 3条信号线进行握手联络。数据传送的时序图如图8.23所示

　　　![](http://www.elecfans.com/article/UploadPic/2008-1/2008131131824775.gif)

　　　　　　　　　　　　　图8.23 3线握手时序图

从时序图可见，总线上每传送一个字节数据，就有一次DAV，NRFD和NDAC 3线握手过程。
图8.23中，“①”表示原始状态讲者置DAV为高电平；听者置NRFD和NDAC两线为低电平。 “②”表示讲者测试NRFD，NDAC两线的状态，若它们同时为低电平时，则讲者将数据送上数据总线D7~D0。“③”表示中虚线表示一个设备接着一个设 备陆续做好了接收数据准备 (如打印机“不忙”)。“④”表示所有接收设备都已准备就绪，NRFD变为高电平。“⑤”表示当NRFD为高电平，而且数据总线上的数据已稳定后。讲者使 DAV线变低，告诉听者数据总线上的数据有效。“⑥”表示听者一旦识别到这点，便立即将NRFD拉回低电平，这意味着在结束处理此数据之前不准备再接收另 外的数据。“⑦”表示听者开始接收数据，最早接收完数据的听者欲使NDAC变高 (如图中虚线示)。但其它听者尚未接收完数据，故NDAC线仍保持低电平。“⑧”表示只有当所有的听者都接收完毕此字节数据后，NDAC线才变为高电平。 “⑨”表示讲者确认NDAC线变高后，就升高DAV线。“”表示讲者撤销数据总线上的数据。“”表示听者确认DAV线为高后置NDAC为低，以便开始传送 另一数据字节。至此完成传送一个数据字节的3线握手联络全过程。以后按上述定时关系重复进行。从数据传送的过程可见，IEEE 488总线上数据传送是按异步方式进行的，总线上若是快速设备，则数据传送就快，若是慢速设备，则数据传送就慢。也就是说数据传送的定时是很灵活的。这意 味着可以将不同速度的设备同时挂在IEEE 488总线上。
8.4.2 VXI总线

目前在自动测试系统中IEEE 488总线虽仍然广泛使用，但由于它的数据总线只有8位宽，系统的最高速传率只有1MB/s，体积也较大。因此往往不能适应现代科技和生产对测试系统的需 要。1987年Clolrado Data Systems, Hewlett Packard, Racaldana, Tektronix和Wavetek等公司的工程技术代表组成一个特别委员会。根据VME总线、EUROCARD标准和IEEE 488·2等标准，制定开放性仪器总线结构所必需的附加标准。1987年7月这个委员会宣布了VXI总线标准。VXI是VME bus extension for instrumentation的缩写，即VME总线在仪器领域的扩展。VXI的问世是测量和仪器领域中发生的重大事件。它是一种模块化仪器总线，是一种 在世界范围内完全开放的，适合于多供货厂商的标准总线，它吸取VME计算机系统总线的高速通信和IEEE 488总线易于组成测试系统的优点，而且集中了智能仪器、个人仪器和自动测试仪器的很多特长。具有小型便携、高速数据传输、模块化结构、软件标准化高、兼 容性强、可扩性好和器件可重复使用等优点。组建系统灵活方便，能充分利用计算机的效能，易于利用数字信号处理的新原理和新方法以及构成虚拟仪器的优点，并 便于接入计算机网构成信息采集，传输和处理的一体化网络。VXI技术把计算机技术、数字接口技术和仪器测量技术有机的结合起来。这种总线推出后，在世界上 得到迅速的推广，它以很快的速度进入测试市场，自问世以来，销售额逐年增长。
VXI被IEEE确定为正式标准IEEE 1155。

下面对VXI总线进行简略描述。

(1) 系统最多可以包含256个器件 (或称装置)，每个器件都具有惟一的逻辑地址单元。

(2) 它有A，B，C和D4种尺寸的模块，A级最小 (高10 cm×深16 cm)，D级最大 (36.7 cm×34 cm)，其中C级 (23.335 cm×34 cm)应用最多。C级的宽度为3 cm或其整数倍，即大体上相当于一本大型书籍的尺寸。组建系统时，可以像插放或更换书架上的书籍一样灵活方便地插放或更换模块。

(3) 一个模块是一个VXI器件，但也允许灵活处理。系统中以每一个主机箱为单位构成一个子系统。一般一个主机箱可以放置5~13块模块，主机箱的的背板为高质 量的多层印制电路板，其上印制着VXI总线。模块通过连接器与总线连接。有P1，P2和P33种连接器。每种连接器是3排，共96个引脚。其中P1是必需 的，而P2和P3是可选择的。在主机箱的背板上安装着连接器的插座，模块上安装着连接器的插头，由主机箱向模块提供模拟和数字电路所需的7种电源和冷却能 力。

(4) 对VXI总线的控制分两种，一种是主机箱的外部控制者；另一种是嵌入主机箱的内部控制者。此外系统还有资源管理和零槽功能模块。前者负责系统的配置和管理 系统的正常工作，后者主要给系统提供公共资源。当采用外部控制者时，可以通过IEEE 488，RS232C多系统扩展总线MXI，VME总线和计算机本地网等多种方式连接，这时资源管理者和零槽器件往往做成一个模块，通过上述方式与外部控 制者连接。当采用嵌入式控制者时，易于组成高速、便携的灵巧系统，这种内嵌式微机往往同时具有资源管理者和零槽器件的功能。

(5) VXI总线中地址线有16位、24位、32位3种，数据线32位，在数据线上数据的传输速率可达40 MB/s，当在相邻模块间用本地总线传输时，速率更可大幅度提高。此外VXI总线中还定义了多种控制线、中断线、时钟线、触发线、识别线和模拟线等。

(6) 在VXI总线规范文本中，对主机箱及模块的机械规程、供电、冷却、电磁兼容、系统控制、资源管理和通信规程等都做了明确规定。

8.4.3 SCSI总线

SCSI是Small Computer System Interface的缩写，即小型计算机系统接口。它用于计算机与磁带机、软磁盘机、硬磁盘机、CDROM、可重写光盘、扫描仪、通信设备和打印机等外部 设备的连接。目前广泛用于微型计算机中主机与硬磁盘和光盘如CDROM的连接，成为最重要、最有潜力的新总线标准。

一、SCSI总线的主要特点

SCSI是一种低成本的通用多功能的计算机与外部设备并行外总线，可以采用异步传送，当采用异步传送8位的数 据时，传送速率可达1.5 MB/s。也可以采用同步传送，速率达5 MB/s。其下一代SCSI—2 (fast SCSI)速率为10 MB/s；Ultra SCSI传输速率为20 MB/s；Ultra—Wide SCSI (即数据为32位宽)传送速率高达40 MB/s。
SCSI 的启动设备 (命令别的设备操作的设备)和目标设备 (接受请求操作的设备)通过高级命令进行通信，不涉及外设的物理层如磁头、磁道、扇区等物理参数，所以不管是与磁盘或CDROM接口，都不必修改硬件和软 件，所以是一种连接很方便的通用接口，它也是一种智能接口，对于多媒体集成接口此标准更显重要。
当采用单端驱动器和单端接收器时，允许电缆长达6 m，若采用差动驱动器和差动接收器时，允许电缆可长达25 m。总线上最多可挂接8台总线设备 (包括适配器和控制器)。但在任何时刻只允许两个总线设备进行通信。目前数据宽度有8位和32位两种。当前与硬盘和CDROM连接多用8位。下面以8位的 SCSI为例进行信号定义说明。

二、SCSI信号定义说明
SCSI总线信号可以采用单端驱动器和单端接收器进行信号传送，也可以采用差动驱动器和差动接收器进行信号传送。但两者在信号定义上有区别，下面分别介绍。

1\. 单端SCSI总线信号定义

单端SCSI总线采用50芯扁平电缆或25对双绞线，也可以采用圆型电缆。电缆中每根导线的截面积为0.8 mm2，最大长度6m,单端SCSI总线信号的定义列于表8.8

&nbsp;
<table width="428" border="1" cellspacing="0"><caption>表8.8 单端SCSI总线信号定义</caption>
<tbody>
<tr>
<th scope="col">
<div>引脚号</div></th>
<th scope="col">
<div>信号</div></th>
<th scope="col">
<div>引脚号</div></th>
<th scope="col">
<div>信号</div></th>
</tr>
<tr>
<td>

1

3

5

7

9

11

13

15

17

19

21

23

25

27

29

31

33

35

37

39

41

43

45

47

49

</td>
<td>

GND

GND

GND

GND

GND

GND

GND

GND

GND

GND

GND

GND

OPEN

GND

GND

GND

GND

GND

GND

GND

GND

GND

GND

GND

GND

</td>
<td>

2

4

6

8

10

12

14

16

18

20

22

24

26

28

30

32

34

36

38

40

42

44

46

48

50

</td>
<td>

DB-1

DB-2

DB-3

DB-4

DB-5

DB-6

DB-7

DB-8

DB-P

GND

GND

GND

TERMPWR

GND

GND

ATN

GND

BSY

ACK

RST

MSG

SEL

C/D

REQ

I/O

</td>
</tr>
</tbody>
</table>
这9条数据线的功能取决于总线的工作节拍。

TERMPWR (26)——经电缆向总线设备提供电源的引脚。

ATN (32)——注意信号。它由启动设备产生，用来通知目标设备，启动设备已准备好一个报文信息。

BSY (36)——忙信号。该信号可以由总线上的任何设备产生，它用来指示总线的工作状态。当其为高电平时，表示总线正被占用。

ACK (38)——认可信号。该信号传送节拍，由启动设备产生，作为对请求信号的响应。

RST (40)——重置信号。该信号可由总线上的任何设备产生，用来通知总线上的所有设备重置。

MSG (42)——指示信息类别信号。该信号由目标设备产生。用来通知启动设备，在信息传输节拍里，数据线上是报文还是其它信息。当MSG=“0”时，表示数据线上传输的是命令或状态信息；当MSG=“1”时，表示数据线上传输的是报文信息。

SEL (44)——选择信号。该信号可由选择目标设备的起始设备产生，也可以由重选起始设备的目标设备产生。在这里，总线上要求其它设备执行操作的设备为起始设 备；执行起始设备要求的为目标设备。总线上的设备有的只能作为起始设备，有的只能作为目标设备，但有的总线设备在某一时刻可以是起始设备，在另一时刻可以 是目标设备。例如，起始总线上的微型计算机。

C/D (46)——控制/数据信号。它由目标设备产生，在信息传输节拍里，用来通知启动设备在数据线上传输的是控制信号还是数据信息。
当C/D=“0”时，数据线上为数据信息；
当C/D=“1”时，数据线上为控制信息。

REQ (48)——请求信号。该信号由目标设备产生，用来请求进行数据传送。

I/O (50)——输入/输出信号。该信号由目标设备产生，在信息传输节拍里，用来通知启动设备信息传输的方向。
当I/O=“0”时，表示起始设备为输出；
当I/O=“1”时，表示起始设备为输入。
在选择重选节拍里，该信号用来作为选择重选的标志。当I/O=“0”时，表示为选择；当I/O=“1”时表示为重选。
2\. 差动SCSI总线信号定义

当SCSI总线采用差动驱动和差动接收时，对连接线的要求同单端一样，也是50芯扁平电缆或25对双绞线。但电缆的长度可达25m。差动SCSI的总线信号定义列于表8.9。

&nbsp;
<table width="428" border="1" cellspacing="0"><caption>表8.9 差动SCSI总线信号定义</caption>
<tbody>
<tr>
<th scope="col">
<div>引脚号</div></th>
<th scope="col">信号</th>
<th scope="col">
<div>引脚号</div></th>
<th scope="col">信号</th>
</tr>
<tr>
<td>

1

3

5

7

9

11

13

15

17

19

21

23

25

27

29

31

33

35

37

39

41

43

45

47

49

</td>
<td>GND

+DB-1

+DB-2

+DB-3

+DB-4

+DB-5

+DB-6

+DB-7

+DB-8

+DB-P

D-ENABLE

地

TERMPWR

地

+ATN

地

+BSY

+ACK

+RST

+MSG

+SEL

+C/D

+REQ

+I/O

地</td>
<td>

2

4

6

8

10

12

14

16

18

20

22

24

26

28

30

32

34

36

38

40

42

44

46

48

50

</td>
<td>地

-DB-1

-DB-2

-DB-3

-DB-4

-DB-5

-DB-6

-DB-7

-DB-8

-DB-P

地

地

TERMPWR

地

-ATN

地

-BSY

-ACK

-RST

-MSG

-SEL

-C/D

-REQ

-I/O

地</td>
</tr>
</tbody>
</table>
&nbsp;

单端和差动信号引脚相对应，只是单端一个信号只需占一个引脚，而差动一个信号要占用两个引脚，将单端时的一些地引脚，在差动时是“+”的信号引脚。
引脚21为DENABLE，是总线允许信号，高电平为有效。在差动连接时，若DENABLE不慎接地，则总线无法工作。
经电缆向总线设备提供电源的TERMPWR引脚，单端时用26号引脚，差动时用25和26引脚。
三、SCSI总线的工作过程

SCSI总线工作过程包括如下10个总线节拍：

BUS FREE——总线自由节拍；
ARB——总线仲裁节拍；
SEL——总线选择节拍；
RESEL——重新选择节拍；
MSG IN——信息输入节拍；
MSG OUT——信息输出节拍；
DATA IN——数据输入节拍；
DATA OUT——数据输出节拍；
CMD——命令节拍；
STATUS——状态节拍。
各节拍的转换如图8.24所示

　　　![](http://www.elecfans.com/article/UploadPic/2008-1/2008131131840402.gif)

　　　　　　　　　　　　图8.24 SCSI总线节拍转换图

SCSI总线在复位之后进入总线自由节拍BUS FREE，在此状态下，总线上的设备可以提出请求，此后进入总线仲裁节拍ARB，通过ARB后，使优先权最高的请求设备获得总线仲裁权。然后进入选择节拍 SEL，利用SEL和BSY信号及设备编码决定起始设备和目标设备。

经过上述3个节拍后，总线进入信息传输节拍。利用MSG，C/D,I/O三个信号的不同编码，可以决定信息的传输方式。例如，若MSG C/D I/O=000时，则表示一个数据输出总线节拍，数据由起始设备传送到目标设备。
当信息传输完成或出现错误时，可利用RST信号使总线复位，总线重新回到BUS FREE节拍。

SCSI总线设置很多命令，在软件支持下工作。详细内容可以查阅ECMA公布的SCSI标准。ECMA (European Computer Manufacturers Association)即欧洲计算机厂家协会。

8.4.4 IDE总线

IDE总线或称IDE接口，它是1984年由COMPAQ和WD公司联合推出的一种硬盘接口标准。这种接口只支 持硬盘驱动器。1993年为了与SCSI接口标准竞争，WD公司又推出增强型的IDE接口，也称为EIDE接口或称ATA接口。EIDE接口不仅支持硬盘 驱动器，还支持磁带机和CD—ROM驱动器。EIDE接口迅速得到许多厂商的欢迎。现在市面上新的多功能卡基本上都支持EIDE接口。若插有EIDE的多 功能卡，CD—ROM驱动器安装起来相当于第二个磁盘。但旧的多功能卡或硬盘卡，只支持旧的IDE标准，甚至只支持ST506这种更旧的接口标准，则这种 卡尽管可以驱动双硬盘，却不能驱动CD—ROM。

常见的CD—ROM除了EIDE接口标准外，还有AT接口标准，AT接口是SONY、松下和三菱等公司专用的 CD—ROM接口。EIDE接口的平均寻址时间明显优于AT接口。所以若看重读写速度应选用EIDE接口的CD—ROM。CD—ROM采用EIDE接口是 大势所趋，AT专用接口将走向消亡。

ISA，EISA总线支持EIDE接口数传率为4.1 MB/s，而VESA总线上多采用Fast EIDE接口，它的数传率为11~13 MB/s。容量为850 MB以上的硬盘要采用Fast EIDE—2接口，其数传率为16.6 MB/s。
EIDE总线信号定义列于表8.10

&nbsp;
<table width="404" border="1" cellspacing="0"><caption>表8.10 EIDE总线信号定义</caption>
<tbody>
<tr>
<th scope="col" width="69">
<div>引脚号</div></th>
<th scope="col" width="98">信号</th>
<th scope="col" width="69">
<div>引脚号</div></th>
<th scope="col" width="150">
> 信号
</th>
</tr>
<tr>
<td>
<div>1</div></td>
<td>RESET</td>
<td>
<div>2</div></td>
<td>GND</td>
</tr>
<tr>
<td>
<div>3</div></td>
<td>D7</td>
<td>
<div>4</div></td>
<td>D8</td>
</tr>
<tr>
<td>
<div>5</div></td>
<td>D6</td>
<td>
<div>6</div></td>
<td>D9</td>
</tr>
<tr>
<td>
<div>7</div></td>
<td>D5</td>
<td>
<div>8</div></td>
<td>D10</td>
</tr>
<tr>
<td>
<div>9</div></td>
<td>D4</td>
<td>
<div>10</div></td>
<td>D11</td>
</tr>
<tr>
<td>
<div>11</div></td>
<td>D3</td>
<td>
<div>12</div></td>
<td>D12</td>
</tr>
<tr>
<td>
<div>13</div></td>
<td>D2</td>
<td>
<div>14</div></td>
<td>D13</td>
</tr>
<tr>
<td>
<div>15</div></td>
<td>D1</td>
<td>
<div>16</div></td>
<td>D14</td>
</tr>
<tr>
<td>
<div>17</div></td>
<td>D0</td>
<td>
<div>18</div></td>
<td>D15</td>
</tr>
<tr>
<td>
<div>19</div></td>
<td>GND</td>
<td>
<div>20</div></td>
<td>KEY</td>
</tr>
<tr>
<td>
<div>21</div></td>
<td>DRQ3</td>
<td>
<div>22</div></td>
<td>GND</td>
</tr>
<tr>
<td>
<div>23</div></td>
<td>IOW</td>
<td>
<div>24</div></td>
<td>GND</td>
</tr>
<tr>
<td>
<div>25</div></td>
<td>IOR</td>
<td>
<div>26</div></td>
<td>GND</td>
</tr>
<tr>
<td>
<div>27</div></td>
<td>IOCHRDY</td>
<td>
<div>28</div></td>
<td>BALE</td>
</tr>
<tr>
<td>
<div>29</div></td>
<td>DACK3</td>
<td>
<div>30</div></td>
<td>GND</td>
</tr>
<tr>
<td>
<div>31</div></td>
<td>IRQ14</td>
<td>
<div>32</div></td>
<td>IOCS16</td>
</tr>
<tr>
<td>
<div>33</div></td>
<td>A1</td>
<td>
<div>34</div></td>
<td>GND</td>
</tr>
<tr>
<td>
<div>35</div></td>
<td>A0</td>
<td>
<div>36</div></td>
<td>A2</td>
</tr>
<tr>
<td>
<div>37</div></td>
<td>CS0</td>
<td>
<div>38</div></td>
<td>CS1</td>
</tr>
<tr>
<td>
<div>39</div></td>
<td>Activitg</td>
<td>
<div>40</div></td>
<td>GND</td>
</tr>
</tbody>
</table>
&nbsp;

8.4.5 Centronics总线

Centronics总线用于计算机与打印机或绘图仪的连接。它也是一种并行通信总线，总线由36条信号线组 成。采用扁平电缆或多芯电缆进行信息传送。传输速率较高，传输距离最长为2 m。在使用扁平电缆连接时，采用每两条数据线之间夹一条地线，可以较好的克服数据间的干扰。这种总线未经标准化组织确定，所以不同厂家对引脚定义可能略有 区别。目前经常采用25线简化的Centronics总线。例如PC系列机的并行接口就是采用25线的Centronics总线标准。
Centronics总线信号定义列于表8.11

&nbsp;
<table width="428" border="1" cellspacing="0"><caption>表8.11 Centronics总线信号定义</caption>
<tbody>
<tr>
<th scope="col" width="62">
<div>引脚号</div></th>
<th scope="col" width="79">
<div>信号名称</div></th>
<th scope="col" width="78">
<div>说明</div></th>
<th scope="col" width="38">
<div>引脚号</div></th>
<th scope="col" width="63">
<div>信号名称</div></th>
<th scope="col" width="82">
<div>说明</div></th>
</tr>
<tr>
<td>

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

</td>
<td>

STROBE

D0

D1

D2

D3

D4

D5

D6

D7

ACKNLG

BUSY

PAPER END

+5V

AUTO FEEDXT

NC

GND

CHASSIC GND

NC

</td>
<td>

选通信号

并行数据

应答信号

忙信号

纸走完信号

自动走纸信号

地

机壳地

</td>
<td>

19

20

21

22

23

24

25

26

27

28

29

30

31

32

33

34

35

36

</td>
<td>

GND

GND

GND

GND

GND

GND

GND

GND

GND

GND

GND

GND

INIT

ERROR

GND

NC

+5V

SLCT IN

</td>
<td>

地

初始化信号

出错信号

地

输入选择信号

</td>
</tr>
</tbody>
</table>
&nbsp;

8.4.6 RS—232C总线

一、RS—232C信号定义的说明

RS—232C是一种串行通信总线标准，是数据终端设备(DTE)和数据通信设备(DCE)之间的接口标 准，1969年由美国电子工业协会(EIA)从CCITT远程通信标准中导出的一个标准。当初制订此标准的目的是为了使不同厂家生产的设备能达到接插的 “兼容性”。也就是说不同厂家所生产的设备，只要它们都具有RS—232C标准接口，则不需要任何转换电路，就可以互相插接起来。这个标准仅保证硬件兼容 而没有软件兼容。此外，用它进行数据传输时，由于线路的损耗和噪声干扰，传输距离一般都不超过15 m。通常两计算机的近距离通信可以通过RS—232C接口连接起来。

RS—232C标准包括机械指标和电气指标。机械指标规定，RS—232C接口通向外部的连接器(插针和插座)是一种标准的“D”型保护壳的25针插头。图8.25是这种插头的插脚编号

　　　![](http://www.elecfans.com/article/UploadPic/2008-1/2008131131847952.gif)

　　　　　　　　　　　　图8.25 标准25针“D”型插头

25个插脚的功能分配列于表8.12。

&nbsp;
<table width="428" border="1" cellspacing="0"><caption>表8.12 RS-232C的插脚功能分配</caption>
<tbody>
<tr>
<th scope="col" width="169" height="51">
<div>插脚号</div></th>
<th scope="col" width="249">
<div>插脚功能</div></th>
</tr>
<tr>
<td height="999">

*1

*2

*3

*4

*5

*6

*7

*8

*9

*10

*11

*12

*13

*14

*15

*16

*17

*18

*19

*20

*21

*22

*23

*24

*25

</td>
<td>

　保护地

　发送数据(TXD)

　接收数据(RXD)

　请求发送(RTS)

　允许发送(CTS)

　数据通信设备(DCE)准备好(DSR)

　信号地(公共回线)

　数据载体检测(DCD)

　(保留供数据通信设备测试)

　(保留供数据通信设备测试)

　未定义

　(辅信道)数据载体检测(DCD)

　(辅信道)清除发送(CTS)

　(辅信道)发送数据(TXD)

　发送信号单元定时(DCE为源)

　(辅信道)接收数据(RXD)

　接收信号单元定时(DCE为源)

　未定义

　(辅信道)请求发送(RTS)

　数据终端准备好(DTR)

　信号质量检测

　振铃指示(RI)

　数据信号速率选择(DTE/DCE为源)

　发送信号单元定时(DTE为源)

　未定义

</td>
</tr>
</tbody>
</table>
RS—232C的25个插脚仅定义22个。这22个信号分为两个信道组：一个主信道组(标有“*”者) 和一个辅信道组，大多数微机通信系统仅使用主信道组的信号线。在通信时，并非所有主信道组的信号都要连接。在微机通信中，通常使用的RS—232接口信号 只有9根引脚(见表8.13)。

&nbsp;
<table width="428" border="1" cellspacing="0"><caption>表8.13 微型计算机通信中常用的RS-232C接口信号</caption>
<tbody>
<tr>
<th scope="col" width="51">
<div>引脚号</div></th>
<th scope="col" width="88">
<div>符号</div></th>
<th scope="col" width="86">
<div>方向</div></th>
<th scope="col" width="185">
<div>功能</div></th>
</tr>
<tr>
<td>
<div>2</div></td>
<td>
<div>TXD</div></td>
<td>
<div>输出</div></td>
<td>
<div>发送数据</div></td>
</tr>
<tr>
<td>
<div>3</div></td>
<td>
<div>RXD</div></td>
<td>
<div>输入</div></td>
<td>
<div>接收数据</div></td>
</tr>
<tr>
<td>
<div>4</div></td>
<td>
<div>RTS</div></td>
<td>
<div>输出</div></td>
<td>
<div>请求发送</div></td>
</tr>
<tr>
<td>
<div>5</div></td>
<td>
<div>CTS</div></td>
<td>
<div>输入</div></td>
<td>
<div>允许发送</div></td>
</tr>
<tr>
<td>
<div>6</div></td>
<td>
<div>DSR</div></td>
<td>
<div>输入</div></td>
<td>
<div>数据通信设备准备好</div></td>
</tr>
<tr>
<td>
<div>7</div></td>
<td>
<div>GND</div></td>
<td></td>
<td>
<div>信号地</div></td>
</tr>
<tr>
<td>
<div>8</div></td>
<td>
<div>DCD</div></td>
<td>
<div>输入</div></td>
<td>
<div>数据载体检测</div></td>
</tr>
<tr>
<td>
<div>20</div></td>
<td>
<div>DTR</div></td>
<td>
<div>输出</div></td>
<td>
<div>数据终端准备好</div></td>
</tr>
<tr>
<td>
<div>22</div></td>
<td>
<div>RI</div></td>
<td>
<div>输入</div></td>
<td>
<div>振铃指示</div></td>
</tr>
</tbody>
</table>
常用的9根引脚分两类：一类是基本的数据传送引脚，另一类是用于调制解调器(MODEM)的控制和反应它的状态的引脚。

1\. 基本的数据传送引脚

TXD，RXD，GND(2，3，7号引脚) 基本数据传送引脚。
TXD——数据发送引脚，数据传送时，发送数据由该引脚发出，送上通信线，在不传送数据时，异步串行通信接口维持该脚为逻辑“1”。
RXD——数据接收引脚，来自通信线的数据信息由该引脚进入接收设备。
GND——信号地，该引脚为所有电路提供参考电位。

2\. MODEM的控制和状态引脚

从计算机通过RS232C接口送给MODEM的控制引脚包括DTR和RTS。

DTR——数据终端准备完毕引脚，用于通知MODEM计算机准备好，可以通信了。
RTS——请求发送引脚，用于通知MODEM计算机请求发送数据。
从MODEM通过RS323C接口送给计算机的状态信息，引脚包括DSR，CTS，DCD和RI。
DSR——数据通信设备准备就绪引脚，用于通知计算机，MODEM准备好了。
CTS——允许发送引脚，用于通知计算机MODEM可以接收数据了。
DCD——数据载体检测引脚，用于通知计算机MODEM与电话线另一端的MODEM已经建立联系。
RI——振铃信号指示引脚，用于通知计算机，有来自电话网的信号。
二、具有MODEM设备的远距离通信

数据终端设备DTE (Data Terminal Equipment)，如计算机、终端显示器，通过RS232C接口和数据通信设备DCE(DataCommunication Equipment)如调制解调器连接起来，再通过电话线和远程的设备进行通信。即电话线的两端都有DCE，即MODEM设备。MODEM除具有调制和解 调功能外，还必须具有控制功能和反映状态的功能。这些控制功能用来完成与RS—232C接口以及电话线另一端的MODEM进行信息交换和联络控制。具有 MODEM设备的远距离通信的连接图，见图8.26。

　　　![](http://www.elecfans.com/article/UploadPic/2008-1/2008131131848178.gif)

　　　　　　　　　　　　　　图8.26 最简单连接

在实际使用中，若进行近距离通信，即不通过电话线进行远程通信，则不需要使用DCE，而直接把DTE连接起来， 称为零调制解调器联接，因为此时调制解调器已退化成了一个线路交叉，不起任何作用了。两个DTE之间可以利用表8?13列出的9根线进行不同的连接进行通 信双方的握手联络。

1\. 通信双方永远准备好接收的DTE

这是一种最简单的连接，这种连接仅用3根线。其它和MODEM有关的线，可以不连接，如图8?26(a)或将控制线和自身的状态线连接起来。如图8.26(b)所示。

2\. 利用MODEM的控制信号线建立同步

当进行近距离通信时，不必通过MODEM，两台计算机可以通过RS—232C直接对接，这种情况下，和MODEM有关的控制线和状态线用来为通信双方进行握手联络。这种连接如图8.27所示。

　　　![](http://www.elecfans.com/article/UploadPic/2008-1/2008131131857563.gif)

　　　　　　　　　图8.27 用MODEM控制作为通信握手联络

通信双方的握手联络过程如下：

首先需要发送数据的一方将RTS变为有效向对方(接收数据的一方)请求发送。RTS接到另一方的DSR和 DCD。当DSR有效，表示数据设备准备好，DCD引脚的状态改变，通知CPU对方要发送数据。当接收端准备好接收时，通过DTR引脚向对方(请求发送的 一方)发出数据终端准备完毕的信息，该引脚接到发送端的CTS引脚，通知它接收端“允许发送”。只有当CTS有效时，发送端才可以发送信息。所以如果在接 收信息时，接收端来不及处理收到的信息，例如，接收缓冲器满等情况出现，便可以将自身的DTR信号变为无效，使发送端的CTS也变为无效而使发送端暂停发 送。当发送端发送完全部数据，便使自身的请求发送引脚RTS变为无效，接收端的DSR，DCD引脚状态改变会再次引起CPU中断，从而得知数据发送完毕。 RS—232C是支持全双工通信的，双方的收发都可以按上述方式进行。

若有一方永远处于接收准备好的状态，例如，计算机B对接收的数据处理得很快或很简单，则它是永远准备好接收的 DTR，这种情况可以省去两条接线，连接图如图8.28所示。将接收端的DTR与自己的DSR和DCD相接，只要DTR有效，便使DSR和DCD有效，从 而使接收线路畅通。在发送端RTS接向自己的CTS，只要RTS有效，就会使允许发送CTS有效，因此发送端随时可以发送。

　　　![](http://www.elecfans.com/article/UploadPic/2008-1/200813113194644.gif)

　　　　　　　 　　　　图8.28 用MODEM控制的一种简化联络

三、RS—232C总线的电气规范

RS—232C总线的电气规范列于表8.14。

&nbsp;
<table width="362" border="1" cellspacing="0"><caption>表8.14 RS-232C的电气规范</caption>
<tbody>
<tr>
<th scope="col" width="214">

带3～7K欧负载时驱动器的输出电平

不带负载时驱动器的输出电平

驱动器段断开时的输出阻抗

输出短路电流

驱动器转换速率

接收器输入阻抗

接收器输入电压的允许范围

输入开路时接收器的输出

输入经300欧接地时接收器的输出

+3V输入时接收器的输出

-3V输入时接收器的输出

最大负载电容

</th>
<th scope="col" width="138">

逻辑0：+5～+15V

逻辑1：-5～-15V

-25～+25V

&gt;300欧

&lt;0.5A

&lt;30伏/微秒

在3～7K欧之间

-25～+25V

逻辑1

逻辑1

逻辑0

逻辑1

2500pF

</th>
</tr>
</tbody>
</table>
&nbsp;

从表8.14看出对于发送端，规定用-5~-15 V表示逻辑“1”(或称MARK信号)，用+5~+15 V表示逻辑“0”(或称SPACE)，内阻为几百欧姆，可以带2 500 pF的电容负载。负载开路时电压不得超过±25 V；对于接收端，电压低于-3 V表示逻辑“1”，高于+3 V表示逻辑“0”，输入阻抗在3~7 kΩ之间。接口应经得住短路而不损坏。

四、RS—232C标准与TTL标准之间的转换

由RS—232C的电气规范，可以得出发送时RS—232C的逻辑“1”电平在-5~-15 V范围内。而逻辑“0”电平在+5~+15 V范围内；它要求RS—232C的接收器必须能识别低至+3 V的信号作为逻辑0，而能识别高至-3 V的信号作为逻辑1。因此，RS—232C的逻辑电平与TTL逻辑电平是不兼容的。但是微型计算机通过串行接口芯片，送出的和能接收的都是TTL电平表示 的数字信息。为了使RS—232C和TTL组成的串行接口能相接，必须进行电平转换。Motorola公司制造的MC1488是把TTL电平转换为RS— 232C电平的一种比较简单的集成电路驱动器芯片；而MC1489是把RS—232C电平转换成TTL电平的接收器芯片。，采用MC1488和 MC1489电平转换芯片的全双工RS—232C接口电路和UART(异步规程收发器接口)的连接线路如图8.29所示。

　　　![](http://www.elecfans.com/article/UploadPic/2008-1/2008131131920374.gif)

　　　　　　　图8.29 采用MC1488和1489电平转换芯片

时RS—232C与UART的连接

由于RS—232C使用非常广泛，许多半导体厂家都生产专用于TTL电平与RS—232C电平的专用转换芯片。 常用于将TTL电平转换为RS—232C电平的芯片，除MC1488外还有75188，75150等，用于将RS—232C电平转换为TTL电平的除 MC1489外，还有75189，75154等。

8.4.7 RS—423A总线

为了克服RS—232C的缺点，提高传送速率，增加通信距离，又考虑到与RS—232C的兼容性，EIA在1987年提出了RS—423A总线标准。该标准的主要优点是在接收端采用了差分输入。RS—423A的接口电路如图8.30所示。

　　![](http://www.elecfans.com/article/UploadPic/2008-1/2008131131923671.gif)

　　　　　　　　　　图8.30 RS—423A接口电路

在有电磁干扰的场合，干扰信号将同时混入两条通信线路中，产生共模干扰，而差分输入对共模干扰信号有较高的抑制 作用，这样就提高了通信的可靠性。RS—423A用-6 V表示逻辑“1”，用+6 V表示逻辑“0”，而RS—232C的接收电压范围是±3 V，所以RS—423 A不通的接收器仅对差动信号敏感，当信号线之间的电压低于-0.2 V时表示“1”，大于0.2 V时表示“0”。接收芯片可以承受±25 V的电压，因此可以直接与RS—232C相接。根据使用经验，采用普通双绞线，RS—423A线路可以在130 m用100 k的波特率可靠通信。在1200 m内，可用1200波特进行通信。目前越来越多的计算机逐步采用RS—423A标准以获得比RS—232C更佳的通信效果。

8.4.8RS—422A总线

RS—422A采用平衡输出的发送器，差分输入的接收器。如图8.31所示。

　　　![](http://www.elecfans.com/article/UploadPic/2008-1/2008131131926865.gif)

　　　　　　　　　　图8.31 RS—422A平衡输出差分输入图

发送器有两根输出线，当一条线向高电平跳变的同时，另一条输出线向低电平跳变，线之间的电压极性因此翻转过 来。在RS—422A线路中，发送信号要用两条线，接收信号也要两条线，对于双工通信，至少要有4根线。由于RS—422A线路是完全平衡的，它比RS— 423A更高的可靠性，传送更快更远。一般情况下，RS—422A线路不使用公共地线，这使得通信双方由于地电位不同而对通信线路产生的干扰减至最小。双 方地电位不同产生的信号成为共模干扰会被差分接收器滤波掉，而这种干扰却能使RS—232C的线路产生错误。但是必须注意，由于接收器所允许的共模干扰范 围是有限的，要求小于±25V。因此，若双方地电位的差超过这一数值，也会使信号传送错误，或导致芯片损坏。当采用普通双绞线时，RS—422A可在1 200m范围以38.4 kbit/s的波特率进行通信。在短距离(200 m)，RS—422A的线路可以轻易地达到200 kbit/s以上的波特率，因此这种接口电路被广泛地用在计算机本地网络上。RS—422A的输出信号线间的电压为±2 V，接收器的识别电压为±0.2 V。共模范围±25 V。在高速传送信号时，应该考虑到通信线路的阻抗匹配，否则会产生强烈的反射，使传送的信息发生畸变，导致通信错误。一般在接收端加终端电阻以吸收掉反射 波。电阻网络也应该是平衡的，如图8.32所示。

　　　![](http://www.elecfans.com/article/UploadPic/2008-1/2008131131941526.gif)

　　　　　　　　　　　　　图8.32 在接收端加终端电阻图

8.4.9 RS—485总线

使用RS—422A接口电路进行全双工通信，需要两对线或4条线，使线路成本增加。RS—485适用于收发双方共用一对线进行通信，也适用于多个点之间共用一对线路进行总线方式联网，通信只能是半双工的，线路如图8.33所示。

　　　![](http://www.elecfans.com/article/UploadPic/2008-1/2008131131947349.gif)

　　　　　图8.33 使用RS—485多个点之间共用一对线路进行总

线方式联网

由于共用一条线路，在任何时刻，只允许有一个发送器发送数据，其它发送器必须处于关闭 (高阻)状态，这是通过发送器芯片上的发送允许端控制的。例如，当该端为高电平时，发送器可以发送数据，而为低电平时，发送器的两个输出端都呈现高阻状态，好像从线路脱开一样。

&nbsp;

转自：[ElecFans](http://www.elecfans.com/dianzichangshi/200801317618.html)

</div>